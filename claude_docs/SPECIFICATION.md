# 気分記録アプリ仕様書

## 1. アプリ概要
毎日の気分を簡単に記録し、過去の記録を振り返ることができるモバイルアプリケーション。

## 2. 主要機能

### 2.1 気分記録機能
- **気分レベル**: 1-5の5段階評価（1:とても悪い、5:とても良い）
- **記録日時**: 自動記録（手動変更可能）
- **メモ**: 任意のテキストメモ（最大500文字）
- **タグ**: 事前定義されたタグを選択（仕事、プライベート、健康、人間関係など）
- **写真**: オプションで1枚まで添付可能

### 2.2 気分表示機能
- **カレンダービュー**: 月間カレンダーで各日の気分を色分け表示
- **リストビュー**: 時系列で記録を一覧表示
- **グラフビュー**: 週間/月間/年間の気分推移をグラフ表示

### 2.3 分析機能
- **統計情報**: 平均気分スコア、最高/最低記録
- **パターン分析**: 曜日別、時間帯別の気分傾向
- **タグ別分析**: タグごとの気分傾向

### 2.4 リマインダー機能
- **通知設定**: 記録忘れ防止のための定時通知
- **カスタマイズ**: 通知時刻の設定

## 3. 画面構成

### 3.1 ホーム画面
- 今日の気分記録ボタン
- 直近7日間の気分サマリー
- クイックアクセスメニュー

### 3.2 記録画面
- 気分レベル選択（スライダーまたはボタン）
- メモ入力フィールド
- タグ選択
- 写真追加ボタン
- 保存/キャンセルボタン

### 3.3 履歴画面
- ビュー切り替えタブ（カレンダー/リスト/グラフ）
- フィルター機能（期間、タグ、気分レベル）
- 記録の詳細表示

### 3.4 分析画面
- 統計ダッシュボード
- グラフ表示エリア
- インサイト表示

### 3.5 設定画面
- プロフィール設定
- 通知設定
- データエクスポート/インポート
- プライバシー設定

## 4. データモデル

### 4.1 気分記録（MoodEntry）
```
- id: 一意識別子
- userId: ユーザーID
- moodLevel: 気分レベル（1-5）
- date: 記録日時
- memo: メモテキスト
- tags: タグリスト
- photoUrl: 写真URL（オプション）
- createdAt: 作成日時
- updatedAt: 更新日時
```

### 4.2 ユーザー（User）
```
- id: 一意識別子
- name: ユーザー名
- email: メールアドレス
- notificationSettings: 通知設定
- createdAt: 作成日時
```

### 4.3 タグ（Tag）
```
- id: 一意識別子
- name: タグ名
- color: 表示色
- icon: アイコン
```

## 5. 技術仕様

### 5.1 プラットフォーム
- iOS/Android対応（Flutter使用）

### 5.2 データ保存
- ローカルストレージ: SQLite
- クラウド同期: オプション（Firebase）

### 5.3 認証
- ローカル認証（PIN/生体認証）
- クラウド同期時: Firebase Auth

## 6. セキュリティ要件
- データの暗号化保存
- 生体認証対応
- プライバシーモード（他人に見られたくないエントリの非表示）

## 7. 将来的な拡張機能
- AIによる気分パターン分析とアドバイス
- 他ユーザーとの匿名共有機能
- ウェアラブルデバイス連携
- 音声メモ機能
- 複数の気分要素の記録（エネルギーレベル、ストレスレベルなど）